@using MudBlazor


<MudButton class="@Classe" Variant="Variant" Color="Color" @onclick="OnClickHandler" >

    @if (!string.IsNullOrEmpty(Icon))
    {
        try
        {
            <MudIcon Icon="@Icon" />
        }
        catch(Exception msg)
        {
            throw new Exception(msg.ToString());
        }
      @Text
    }

   </MudButton>


@code {
    [EditorRequired]
    [Parameter]
    public string Text { get; set; } = string.Empty;

    [Parameter]
    public Color Color { get; set; } = Color.Default;
    [EditorRequired]
    [Parameter]
    public string Icon { get; set; }

    [EditorRequired]
    [Parameter]
    public Variant Variant { get; set; } = Variant.Text;

    [EditorRequired]
    [Parameter]
    public EventCallback OnClick { get; set; }

    [Parameter]
    public string Classe { get; set; } = string.Empty;

    private async Task OnClickHandler()
    {
        if (OnClick.HasDelegate)
        {
            await OnClick.InvokeAsync(null);
        }
    }

}
